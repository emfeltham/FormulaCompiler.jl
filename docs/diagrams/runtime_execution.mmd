sequenceDiagram
    participant User
    participant Compiled as Compiled Evaluator
    participant Data as Data Table
    participant Output as Output Vector
    
    Note over User,Output: Single Row Evaluation
    
    User->>Compiled: compiled(output, data, row_idx)
    Note over Compiled: Type-stable dispatch<br>All positions embedded in types
    
    loop For each operation in chain
        Compiled->>Data: Access column value
        Note over Data: Val{Column} dispatch<br>Compile-time column resolution
        Data-->>Compiled: Type-stable value
        
        Note over Compiled: Apply operation<br>Position-mapped<br>Zero allocations
        Compiled->>Output: Store result at position
        Note over Output: Direct memory write
    end
    
    Output-->>User: Populated vector
    Note over User: Ready for analysis