```mermaid
flowchart TD
    A[Fit Statistical Model<br/>GLM.lm, MixedModels.fit] --> B[Prepare Data<br/>Tables.columntable]
    B --> C[Compile Formula<br/>compile_formula] 
    C --> D[Create Output Vector<br/>Vector{Float64}]
    D --> E[Evaluate Rows<br/>compiled(output, data, idx)]
    E --> F[Process Results<br/>~50ns per row, 0 allocations]
    
    %% Add example code annotations
    A -.-> A1["model = lm(@formula(y ~ x * group), df)"]
    B -.-> B1["data = Tables.columntable(df)"]
    C -.-> C1["compiled = compile_formula(model, data)"]
    D -.-> D1["output = Vector{Float64}(undef, length(compiled))"]
    E -.-> E1["compiled(output, data, 1)  # First row<br/>compiled(output, data, 500)  # 500th row"]
    F -.-> F1["# Use output vector for predictions,<br/># marginal effects, etc."]
    
    %% Styling
    style A fill:#e1f5fe,stroke:#0277bd,stroke-width:2px
    style C fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style E fill:#e8f5e8,stroke:#388e3c,stroke-width:2px
    style F fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    
    %% Style annotations
    style A1 fill:#f5f5f5,stroke:#9e9e9e,stroke-dasharray: 5 5
    style B1 fill:#f5f5f5,stroke:#9e9e9e,stroke-dasharray: 5 5
    style C1 fill:#f5f5f5,stroke:#9e9e9e,stroke-dasharray: 5 5
    style D1 fill:#f5f5f5,stroke:#9e9e9e,stroke-dasharray: 5 5
    style E1 fill:#f5f5f5,stroke:#9e9e9e,stroke-dasharray: 5 5
    style F1 fill:#f5f5f5,stroke:#9e9e9e,stroke-dasharray: 5 5
```